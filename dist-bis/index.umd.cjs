(function(C,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("react/jsx-runtime"),require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react","react-dom"],o):(C=typeof globalThis<"u"?globalThis:C||self,o(C.A11yButton={},C.jsx,C.React,C.ReactDOM))})(this,function(C,o,d,V){"use strict";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G=(...e)=>e.filter((n,t,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===t).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var le={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=d.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:t=2,absoluteStrokeWidth:l,className:s="",children:i,iconNode:a,...r},c)=>d.createElement("svg",{ref:c,...le,width:n,height:n,stroke:e,strokeWidth:l?Number(t)*24/Number(n):t,className:G("lucide",s),...r},[...a.map(([u,y])=>d.createElement(u,y)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=(e,n)=>{const t=d.forwardRef(({className:l,...s},i)=>d.createElement(ie,{ref:i,iconNode:n,className:G(`lucide-${ne(e)}`,l),...s}));return t.displayName=`${e}`,t};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=_("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=_("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=_("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=_("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=_("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=_("PersonStanding",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]]);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=_("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=_("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=_("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=_("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=_("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=_("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),F={"a11y-button-control-group":"ControlGroup-module__a11y-button-control-group___XkSpH","a11y-button-control-group-title":"ControlGroup-module__a11y-button-control-group-title___IB7Al","a11y-button-control-group-content":"ControlGroup-module__a11y-button-control-group-content___4XX1Q"};function Z({title:e,children:n,fontSize:t}){const l={"--a11y-group-gap":`${t*.5}px`,"--a11y-title-font-size":`${t*1.25}px`,"--a11y-title-padding":`${t*.5}px`,"--a11y-content-gap":`${t*.75}px`};return o.jsxs("div",{className:F["a11y-button-control-group"],style:l,children:[o.jsx("h3",{className:F["a11y-button-control-group-title"],children:e}),o.jsx("div",{className:F["a11y-button-control-group-content"],children:n})]})}const U={"a11y-button-icon":"IconButton-module__a11y-button-icon___-yxBa","a11y-button-icon-active":"IconButton-module__a11y-button-icon-active___RRTY5"};function w({icon:e,label:n,variant:t="secondary",size:l=24,active:s=!1,disabled:i=!1,text:a,className:r,...c}){const u={"--a11y-icon-button-gap":`${l*.25}px`,"--a11y-icon-button-min-width":a?`${l*2.5}px`:`${l*1.5}px`,"--a11y-icon-button-height":`${l*1.5}px`,"--a11y-icon-button-padding":`${l*.25}px ${l*.5}px`,"--a11y-icon-button-font-size":`${l*.75}px`};return o.jsxs("button",{...c,"aria-label":n,disabled:i,className:`${U["a11y-button-icon"]} ${s?U["a11y-button-icon-active"]:""} ${r||""}`,style:u,children:[e,a&&o.jsx("span",{children:a})]})}const fe={"a11y-button-group":"ButtonGroup-module__a11y-button-group___r9rr-"};function W({children:e,gap:n=8}){const t={"--a11y-button-group-gap":`${n}px`};return o.jsx("div",{className:fe["a11y-button-group"],style:t,children:e})}const J="Default",ge=[{value:"",label:J,description:"From website"},{value:"Arial",label:"Arial",description:"Standard sans-serif font"},{value:"OpenDyslexic",label:"OpenDyslexic",description:"Designed for dyslexic readers"},{value:"Atkinson Hyperlegible",label:"Atkinson Hyperlegible",description:"High legibility font"},{value:"OpenSans",label:"OpenSans",description:"Good font font"},{value:"Luciole",label:"Luciole",description:"Optimized for low vision"}],Q={none:{},"clear-reading":{fontSize:24,removeBackgrounds:!0,foregroundColor:"#0000FF",backgroundColor:"#FFFFFF",wordSpacing:4,lineHeight:2},"easy-reading":{fontSize:20,showReadingMask:!0,lineHeight:1.8,wordSpacing:3,letterSpacing:1}},K={en:{Hide:"Hide",Show:"Show",Profile:"Profile","{{hideShow}} Accessibility Settings":"{{hideShow}} Accessibility Settings",Enable:"Enable",Disable:"Disable","From website":"From website","Standard sans-serif font":"Standard sans-serif font","Designed for dyslexic readers":"Designed for dyslexic readers","High legibility font":"High legibility font","Good font font":"Good font font","Optimized for low vision":"Optimized for low vision","Press Esc to close":"Press Esc to close","Close reading mask":"Close reading mask","You have unsaved changes. Would you like to save them before closing?":"You have unsaved changes. Would you like to save them before closing?","Warning: The selected colors have low contrast (ratio: {{ratio}}:1).":"Warning: The selected colors have low contrast (ratio: {{ratio}}:1)."," WCAG guidelines recommend a minimum of 4.5:1.\n\n":` WCAG guidelines recommend a minimum of 4.5:1.

`,"Do you want to proceed with these colors anyway?":"Do you want to proceed with these colors anyway?",Accessibility:"Accessibility","Save Changes":"Save Changes",Revert:"Revert","Less Options":"Less Options","More Options":"More Options",language:"language","Visual Aids":"Visual Aids","Background Color":"Background Color","Text Color":"Text Color","Reading Mask":"Reading Mask","Remove Backgrounds":"Remove Backgrounds","Simplify Layout":"Simplify Layout","Left Align Text":"Left Align Text","Number Lists":"Number Lists","Highlight Links":"Highlight Links","Text Readability":"Text Readability","Font Size":"Font Size","Decrease font size":"Decrease font size","Increase font size":"Increase font size","Font Family":"Font Family","Text Case":"Text Case","Normal Case":"Normal Case",UPPERCASE:"UPPERCASE",lowercase:"lowercase","Capitalize Words":"Capitalize Words","Word Spacing":"Word Spacing","Letter Spacing":"Letter Spacing","Line Height":"Line Height","Decrease {{label}}":"Decrease {{label}}","Increase {{label}}":"Increase {{label}}","{{enableDisable}} reading mask":"{{enableDisable}} reading mask","{{enableDisable}} black and white mode":"{{enableDisable}} black and white mode",Custom:"Custom","Clear Reading":"Clear Reading","Easy Reading":"Easy Reading","Are you sure you want to reset all settings to their defaults? You will need to save the changes to make them permanent.":"Are you sure you want to reset all settings to their defaults? You will need to save the changes to make them permanent.","Reset All Settings":"Reset All Settings"},fr:{Hide:"Cacher",Show:"Afficher",Profile:"Profil","{{hideShow}} Accessibility Settings":"{{hideShow}} Paramètres d'accessibilité",Enable:"Activer",Disable:"Désactiver","From website":"Du site","Standard sans-serif font":"Police sans-serif standard","Designed for dyslexic readers":"Conçue pour les lecteurs dyslexiques","High legibility font":"Police à haute lisibilité","Good font font":"Bonne police","Optimized for low vision":"Optimisée pour les personnes malvoyantes","Press Esc to close":"Appuyez sur Échap pour fermer","Close reading mask":"Fermer le masque de lecture","You have unsaved changes. Would you like to save them before closing?":"Vous avez des modifications non enregistrées. Voulez-vous les enregistrer avant de fermer ?","Warning: The selected colors have low contrast (ratio: {{ratio}}:1).":"Attention : Les couleurs sélectionnées ont un faible contraste (ratio : {{ratio}}:1)."," WCAG guidelines recommend a minimum of 4.5:1.\n\n":` Les directives WCAG recommandent un minimum de 4.5:1.

`,"Do you want to proceed with these colors anyway?":"Voulez-vous quand même continuer avec ces couleurs ?",Accessibility:"Accessibilité","Save Changes":"Enregistrer",Revert:"Annuler","Less Options":"Moins d'options","More Options":"Plus d'options",language:"langue","Visual Aids":"Aides visuelles","Background Color":"Couleur de fond","Text Color":"Couleur du texte","Reading Mask":"Masque de lecture","Remove Backgrounds":"Supprimer les fonds","Simplify Layout":"Simplifier la mise en page","Left Align Text":"Aligner à gauche","Number Lists":"Numéroter les listes","Highlight Links":"Surligner les liens","Text Readability":"Lisibilité du texte","Font Size":"Taille de police","Decrease font size":"Diminuer la taille de police","Increase font size":"Augmenter la taille de police","Font Family":"Police","Text Case":"Casse du texte","Normal Case":"Casse normale",UPPERCASE:"MAJUSCULES",lowercase:"minuscules","Capitalize Words":"Première Lettre En Majuscule","Word Spacing":"Espacement des mots","Letter Spacing":"Espacement des lettres","Line Height":"Hauteur de ligne","Decrease {{label}}":"Diminuer {{label}}","Increase {{label}}":"Augmenter {{label}}","{{enableDisable}} reading mask":"{{enableDisable}} le masque de lecture","{{enableDisable}} black and white mode":"{{enableDisable}} le mode noir et blanc",Custom:"Personnalisé","Clear Reading":"Lecture claire","Easy Reading":"Lecture facile","Are you sure you want to reset all settings to their defaults? You will need to save the changes to make them permanent.":"Êtes-vous sûr de vouloir réinitialiser tous les paramètres à leurs valeurs par défaut ? Vous devrez enregistrer les modifications pour les rendre permanentes.","Reset All Settings":"Réinitialiser tout"},de:{Hide:"Verbergen",Show:"Anzeigen",Profile:"Profil","{{hideShow}} Accessibility Settings":"{{hideShow}} Barrierefreiheits-Einstellungen",Enable:"Aktivieren",Disable:"Deaktivieren","From website":"Von der Website","Standard sans-serif font":"Standard Sans-Serif-Schriftart","Designed for dyslexic readers":"Für Legastheniker entworfen","High legibility font":"Schriftart mit hoher Lesbarkeit","Good font font":"Gute Schriftart","Optimized for low vision":"Für Sehbehinderte optimiert","Press Esc to close":"Drücken Sie Esc zum Schließen","Close reading mask":"Lesemaske schließen","You have unsaved changes. Would you like to save them before closing?":"Sie haben ungespeicherte Änderungen. Möchten Sie diese vor dem Schließen speichern?","Warning: The selected colors have low contrast (ratio: {{ratio}}:1).":"Warnung: Die ausgewählten Farben haben einen niedrigen Kontrast (Verhältnis: {{ratio}}:1)."," WCAG guidelines recommend a minimum of 4.5:1.\n\n":` WCAG-Richtlinien empfehlen mindestens 4.5:1.

`,"Do you want to proceed with these colors anyway?":"Möchten Sie trotzdem mit diesen Farben fortfahren?",Accessibility:"Barrierefreiheit","Save Changes":"Speichern",Revert:"Zurücksetzen","Less Options":"Weniger Optionen","More Options":"Mehr Optionen",language:"Sprache","Visual Aids":"Visuelle Hilfen","Background Color":"Hintergrundfarbe","Text Color":"Textfarbe","Reading Mask":"Lesemaske","Remove Backgrounds":"Hintergründe entfernen","Simplify Layout":"Layout vereinfachen","Left Align Text":"Linksbündig","Number Lists":"Listen nummerieren","Highlight Links":"Links hervorheben","Text Readability":"Textlesbarkeit","Font Size":"Schriftgröße","Decrease font size":"Schriftgröße verringern","Increase font size":"Schriftgröße erhöhen","Font Family":"Schriftart","Text Case":"Schreibweise","Normal Case":"Normale Schreibweise",UPPERCASE:"GROßBUCHSTABEN",lowercase:"kleinbuchstaben","Capitalize Words":"Wörter Großschreiben","Word Spacing":"Wortabstand","Letter Spacing":"Buchstabenabstand","Line Height":"Zeilenhöhe","Decrease {{label}}":"{{label}} verringern","Increase {{label}}":"{{label}} erhöhen","{{enableDisable}} reading mask":"Lesemaske {{enableDisable}}","{{enableDisable}} black and white mode":"Schwarz-Weiß-Modus {{enableDisable}}",Custom:"Benutzerdefiniert","Clear Reading":"Klares Lesen","Easy Reading":"Einfaches Lesen","Are you sure you want to reset all settings to their defaults? You will need to save the changes to make them permanent.":"Sind Sie sicher, dass Sie alle Einstellungen auf die Standardeinstellungen zurücksetzen möchten? Sie müssen die Änderungen speichern, um sie dauerhaft zu machen.","Reset All Settings":"Alle Einstellungen zurücksetzen"},it:{Hide:"Nascondi",Show:"Mostra",Profile:"Profilo","{{hideShow}} Accessibility Settings":"{{hideShow}} Impostazioni di accessibilità",Enable:"Abilita",Disable:"Disabilita","From website":"Dal sito web","Standard sans-serif font":"Carattere sans-serif standard","Designed for dyslexic readers":"Progettato per lettori dislessici","High legibility font":"Carattere ad alta leggibilità","Good font font":"Buon carattere","Optimized for low vision":"Ottimizzato per ipovedenti","Press Esc to close":"Premi Esc per chiudere","Close reading mask":"Chiudi maschera di lettura","You have unsaved changes. Would you like to save them before closing?":"Hai modifiche non salvate. Vuoi salvarle prima di chiudere?","Warning: The selected colors have low contrast (ratio: {{ratio}}:1).":"Attenzione: I colori selezionati hanno un contrasto basso (rapporto: {{ratio}}:1)."," WCAG guidelines recommend a minimum of 4.5:1.\n\n":` Le linee guida WCAG raccomandano un minimo di 4.5:1.

`,"Do you want to proceed with these colors anyway?":"Vuoi procedere comunque con questi colori?",Accessibility:"Accessibilità","Save Changes":"Salva",Revert:"Ripristina","Less Options":"Meno opzioni","More Options":"Più opzioni",language:"Lingua","Visual Aids":"Ausili visivi","Background Color":"Colore sfondo","Text Color":"Colore testo","Reading Mask":"Maschera lettura","Remove Backgrounds":"Rimuovi sfondi","Simplify Layout":"Semplifica layout","Left Align Text":"Allinea a sinistra","Number Lists":"Numera liste","Highlight Links":"Evidenzia link","Text Readability":"Leggibilità testo","Font Size":"Dimensione carattere","Decrease font size":"Diminuisci dimensione carattere","Increase font size":"Aumenta dimensione carattere","Font Family":"Tipo di carattere","Text Case":"Maiuscole/Minuscole","Normal Case":"Normale",UPPERCASE:"MAIUSCOLO",lowercase:"minuscolo","Capitalize Words":"Prima Lettera Maiuscola","Word Spacing":"Spaziatura parole","Letter Spacing":"Spaziatura lettere","Line Height":"Altezza riga","Decrease {{label}}":"Diminuisci {{label}}","Increase {{label}}":"Aumenta {{label}}","{{enableDisable}} reading mask":"{{enableDisable}} la maschera di lettura","{{enableDisable}} black and white mode":"{{enableDisable}} la modalità bianco e nero",Custom:"Personalizzato","Clear Reading":"Lettura chiara","Easy Reading":"Lettura facile","Are you sure you want to reset all settings to their defaults? You will need to save the changes to make them permanent.":"Sei sicuro di voler reimpostare tutte le impostazioni ai valori predefiniti? Dovrai salvare le modifiche per renderle permanenti.","Reset All Settings":"Reimposta tutto"}},pe={en:"EN",fr:"FR",de:"DE",it:"IT"};function me(e,n){return e.replace(/\{\{(.*?)\}\}/g,(t,l)=>{var s;return((s=n[l.trim()])==null?void 0:s.toString())??`{{${l}}}`})}function Se(e,n,t){console.log("TR---",e,n,t);let l=K[e][n]||K.en[n];return typeof l>"u"?(console.log(`Missing translation for: '${n}' in language: ${e}`),n):t?me(l,t):l}const _e=()=>{const[e,n]=d.useState(ge);return d.useEffect(()=>{if(e[0].value!=="")return;const t=window.getComputedStyle(document.body).fontFamily;n(l=>{const[s,...i]=l;return[{...s,value:t},...i]})},[e]),e},B="a11y-settings",m={fontSize:16,wordSpacing:3,letterSpacing:2,lineHeight:1.5,fontOptionLabel:J,textCase:"none",cancelLayout:!1,leftAlignText:!1,numberListItems:!1,customLinks:!1,showReadingMask:!1,backgroundColor:"#ffffff",foregroundColor:"#000000",removeBackgrounds:!1,currentProfile:"none",blackAndWhite:!1,language:"en"};function ve(){try{const e=localStorage.getItem(B);if(e){const n=JSON.parse(e);if(n.settings&&Object.keys(n.settings).sort().join(",")===Object.keys(m).sort().join(","))return n;console.warn("Stored settings are invalid or outdated. Resetting to default."),localStorage.removeItem(B)}}catch(e){console.error("Failed to load accessibility settings:",e)}return{settings:m,isEnabled:!0}}function R(e){try{localStorage.setItem(B,JSON.stringify(e))}catch(n){console.error("Failed to save accessibility settings:",n)}}const ee=d.createContext(null);function ke({children:e}){const n=ve(),[t,l]=d.useState(n.settings),[s,i]=d.useState(n.settings),[a,r]=d.useState(n.isEnabled),[c,u]=d.useState(null),y=_e(),h=JSON.stringify(t)!==JSON.stringify(s);d.useEffect(()=>{R({settings:s,isEnabled:a})},[s,a]);const k=d.useCallback(f=>{console.log("nes settings",f),Object.keys(f).length===1&&f.language?(l(p=>({...p,language:f.language})),i(p=>({...p,language:f.language}))):a&&l(p=>({...p,...f,currentProfile:"none"}))},[a]),g=d.useCallback(f=>{r(f),f?c&&(l(c),i(c)):(u(s),l(m),i(m)),R({settings:f&&c?c:m,isEnabled:f})},[s,m,c]),S=d.useCallback(()=>{l(m)},[m]),x=f=>{if(f==="none")l(m);else{const p=Q[f];l({...m,...p,currentProfile:f})}},b=d.useCallback(()=>{i(t)},[t]),N=d.useCallback(()=>{l(s)},[s]),z=(a?t.language:s.language)||m.language,P=d.useCallback((f,p)=>Se(z,f,p),[z]),L=d.useMemo(()=>({visibleSettings:a?t:m,savedSettings:a?s:m,language:z,isEnabled:a,hasChanges:h,fontOptions:y,updateSettings:k,setEnabled:g,resetSettings:S,setProfile:x,commitChanges:b,rollbackChanges:N,t:P}),[a,t,s,z,h,y,k,g,S,x,b,N,P]);return o.jsx(ee.Provider,{value:L,children:e})}function $(){const e=d.useContext(ee);if(!e)throw new Error("useAccessibility must be used within an AccessibilityProvider");return e}const v={"a11y-button-text-control":"TextControls-module__a11y-button-text-control___IZBLB","a11y-button-text-label":"TextControls-module__a11y-button-text-label___3gOZ3","a11y-button-text-select":"TextControls-module__a11y-button-text-select___JcPUE","a11y-button-text-value":"TextControls-module__a11y-button-text-value___XD0ee"};function xe({settings:e,onUpdate:n}){const{t,fontOptions:l}=$(),s=a=>{const r=[16,24,36,54,72],c=r.indexOf(e.fontSize),u=a?c+1:c-1;u>=0&&u<r.length&&n({fontSize:r[u]})},i={"--a11y-control-gap":`${e.fontSize}px`,"--a11y-control-padding":`${e.fontSize*.5}px 0`,"--a11y-label-font-size":`${e.fontSize}px`,"--a11y-select-padding":`${e.fontSize*.25}px ${e.fontSize*.5}px`,"--a11y-select-font-size":`${e.fontSize}px`,"--a11y-select-height":`${e.fontSize*2}px`,"--a11y-select-min-width":`${e.fontSize*10}px`,"--a11y-value-min-width":`${e.fontSize*2}px`,"--a11y-value-font-size":`${e.fontSize}px`};return o.jsxs(Z,{title:t("Text Readability"),fontSize:e.fontSize,children:[o.jsxs("div",{className:v["a11y-button-text-control"],style:i,children:[o.jsx("label",{className:v["a11y-button-text-label"],children:t("Font Size")}),o.jsxs(W,{gap:e.fontSize*.5,children:[o.jsx(w,{icon:o.jsx("span",{style:{fontWeight:"bold"},children:"A"}),text:"-",label:t("Decrease font size"),onClick:()=>s(!1),disabled:e.fontSize<=16,size:e.fontSize}),o.jsx("span",{className:v["a11y-button-text-value"],children:e.fontSize}),o.jsx(w,{icon:o.jsx("span",{style:{fontWeight:"bold"},children:"A"}),text:"+",label:t("Increase font size"),onClick:()=>s(!0),disabled:e.fontSize>=72,size:e.fontSize})]})]}),o.jsxs("div",{className:v["a11y-button-text-control"],style:i,children:[o.jsx("label",{className:v["a11y-button-text-label"],children:t("Font Family")}),o.jsx("select",{value:e.fontOptionLabel,onChange:a=>n({fontOptionLabel:a.target.value}),className:v["a11y-button-text-select"],children:l.map(a=>o.jsxs("option",{value:a.label,style:{fontFamily:a.value},children:[a.label," - ",t(a.description)]},a.label))})]}),o.jsxs("div",{className:v["a11y-button-text-control"],style:i,children:[o.jsx("label",{className:v["a11y-button-text-label"],children:t("Text Case")}),o.jsxs("select",{value:e.textCase,onChange:a=>n({textCase:a.target.value}),className:v["a11y-button-text-select"],children:[o.jsx("option",{value:"none",children:t("Normal Case")}),o.jsx("option",{value:"uppercase",children:t("UPPERCASE")}),o.jsx("option",{value:"lowercase",children:t("lowercase")}),o.jsx("option",{value:"capitalize",children:t("Capitalize Words")})]})]}),[{label:t("Word Spacing"),key:"wordSpacing",min:0,max:16},{label:t("Letter Spacing"),key:"letterSpacing",min:0,max:8},{label:t("Line Height"),key:"lineHeight",min:1,max:3}].map(({label:a,key:r,min:c,max:u})=>o.jsxs("div",{className:v["a11y-button-text-control"],style:i,children:[o.jsx("label",{className:v["a11y-button-text-label"],children:a}),o.jsxs(W,{gap:e.fontSize*.5,children:[o.jsx(w,{icon:o.jsx("span",{children:"-"}),label:t("Decrease {{label}}",{label:a}),onClick:()=>n({[r]:Math.max(c,e[r]-1)}),disabled:e[r]<=c,size:e.fontSize}),o.jsx("span",{className:v["a11y-button-text-value"],children:e[r]}),o.jsx(w,{icon:o.jsx("span",{children:"+"}),label:t("Increase {{label}}",{label:a}),onClick:()=>n({[r]:Math.min(u,e[r]+1)}),disabled:e[r]>=u,size:e.fontSize})]})]},r))]})}function Ce(e,n){const t=(g,S,x)=>{const[b,N,z]=[g,S,x].map(P=>{const L=P/255;return L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4)});return .2126*b+.7152*N+.0722*z},l=g=>{const S=parseInt(g.slice(1,3),16),x=parseInt(g.slice(3,5),16),b=parseInt(g.slice(5,7),16);return[S,x,b]},[s,i,a]=l(e),[r,c,u]=l(n),y=t(s,i,a),h=t(r,c,u);return(Math.max(y,h)+.05)/(Math.min(y,h)+.05)}async function ze(e,n){const t=Ce(e,n);return t<4.5?window.confirm(`Warning: The selected colors have low contrast (${t.toFixed(2)}:1).

WCAG guidelines recommend a minimum contrast ratio of 4.5:1 for better readability.

Do you want to proceed with these colors anyway?`):!0}const A={"a11y-button-visual-control":"VisualControls-module__a11y-button-visual-control___fPfvJ","a11y-button-visual-label":"VisualControls-module__a11y-button-visual-label___k9xUu","a11y-button-visual-color":"VisualControls-module__a11y-button-visual-color___y92Y2","a11y-button-visual-checkbox":"VisualControls-module__a11y-button-visual-checkbox___QK2IR"};function we({settings:e,onUpdate:n}){const{t}=$(),l=async(i,a)=>{const r=i==="backgroundColor"?e.foregroundColor:e.backgroundColor;await ze(a,r)&&n({[i]:a})},s={"--a11y-control-gap":`${e.fontSize}px`,"--a11y-control-padding":`${e.fontSize*.5}px 0`,"--a11y-label-font-size":`${e.fontSize}px`,"--a11y-label-min-width":`${e.fontSize*7}px`,"--a11y-color-size":`${e.fontSize*2}px`,"--a11y-checkbox-size":`${e.fontSize*1.5}px`,"--a11y-border-color":e.foregroundColor,"--a11y-focus-color":"rgba(0, 0, 0, 0.4)"};return o.jsxs(Z,{title:t("Visual Aids"),fontSize:e.fontSize,children:[o.jsxs("div",{className:A["a11y-button-visual-control"],style:s,children:[o.jsx("label",{className:A["a11y-button-visual-label"],children:t("Background Color")}),o.jsx("input",{type:"color",value:e.backgroundColor,onChange:i=>l("backgroundColor",i.target.value),className:A["a11y-button-visual-color"]})]}),o.jsxs("div",{className:A["a11y-button-visual-control"],style:s,children:[o.jsx("label",{className:A["a11y-button-visual-label"],children:t("Text Color")}),o.jsx("input",{type:"color",value:e.foregroundColor,onChange:i=>l("foregroundColor",i.target.value),className:A["a11y-button-visual-color"]})]}),[{label:t("Reading Mask"),key:"showReadingMask"},{label:t("Remove Backgrounds"),key:"removeBackgrounds"},{label:t("Simplify Layout"),key:"cancelLayout"},{label:t("Left Align Text"),key:"leftAlignText"},{label:t("Number Lists"),key:"numberListItems"},{label:t("Highlight Links"),key:"customLinks"}].map(({label:i,key:a})=>o.jsxs("div",{className:A["a11y-button-visual-control"],style:s,children:[o.jsx("label",{className:A["a11y-button-visual-label"],children:i}),o.jsx("input",{type:"checkbox",checked:e[a],onChange:r=>n({[a]:r.target.checked}),className:A["a11y-button-visual-checkbox"]})]},a))]})}const H={"a11y-button-base":"Button-module__a11y-button-base___sek8h","a11y-button-icon":"Button-module__a11y-button-icon___gozst","a11y-button-primary":"Button-module__a11y-button-primary___w2q69","a11y-button-secondary":"Button-module__a11y-button-secondary___mG9hG","a11y-button-danger":"Button-module__a11y-button-danger___k8AE1","a11y-button-ghost":"Button-module__a11y-button-ghost___1VmQx"},$e={sm:.5,md:.75,lg:1};function T({variant:e="secondary",size:n="md",icon:t,children:l,fullWidth:s=!1,fontSize:i=16,disabled:a,className:r,...c}){const u={"--a11y-button-font-size":`${i}px`,"--a11y-button-gap":`${i*.5}px`,"--a11y-button-padding":`${i*$e[n]}px`,"--a11y-button-width":s?"100%":"auto","--a11y-button-icon-size":`${i*1.2}px`,"--a11y-button-focus-color":"rgba(0, 0, 0, 0.4)"};return o.jsxs("button",{...c,disabled:a,className:`${H["a11y-button-base"]} ${H[`a11y-button-${e}`]} ${r||""}`,style:u,children:[t&&o.jsx("span",{className:H["a11y-button-icon"],children:t}),l]})}const D={panel:"AccessibilityPanel-module__panel___nUuIX",column:"AccessibilityPanel-module__column___E6CLD",columnNormal:"AccessibilityPanel-module__columnNormal___bAdDH",columnLarge:"AccessibilityPanel-module__columnLarge___J5rrb"};function Ae({settings:e,updateSettings:n,resetSettings:t}){const{t:l}=$(),s=()=>{window.confirm(l("Are you sure you want to reset all settings to their defaults? You will need to save the changes to make them permanent."))&&t()},i=`${D.column} ${e.fontSize<=24?D.columnNormal:D.columnLarge}`;return o.jsxs("div",{className:D.panel,style:{gap:`${e.fontSize*2}px`,"--font-size":e.fontSize*2},children:[o.jsx("div",{className:i,style:{gap:`${e.fontSize*2}px`},children:o.jsx(xe,{settings:e,onUpdate:n})}),o.jsxs("div",{className:i,style:{gap:`${e.fontSize*2}px`},children:[o.jsx(we,{settings:e,onUpdate:n}),o.jsx(T,{variant:"danger",icon:o.jsx(Y,{size:e.fontSize}),onClick:s,fontSize:e.fontSize,fullWidth:!0,children:l("Reset All Settings")})]})]})}const E={"a11y-button-mask-top":"ReadingMask-module__a11y-button-mask-top___-XlCa","a11y-button-mask-bottom":"ReadingMask-module__a11y-button-mask-bottom___J-Syz","a11y-button-mask-gap":"ReadingMask-module__a11y-button-mask-gap___dmjPK","a11y-button-mask-close-container":"ReadingMask-module__a11y-button-mask-close-container___JQ0Mc","a11y-button-mask-close-button":"ReadingMask-module__a11y-button-mask-close-button___Xbzhq","a11y-button-mask-hint":"ReadingMask-module__a11y-button-mask-hint___kZIAC"};function Ne({isEnabled:e}){const[n,t]=d.useState({x:window.innerWidth/2,y:window.innerHeight/2}),[l,s]=d.useState(!1),{visibleSettings:i,updateSettings:a,t:r}=$(),c=d.useMemo(()=>{const b=(i==null?void 0:i.fontSize)??16,N=50,z=b/16;return Math.max(N,N*z)},[i==null?void 0:i.fontSize]),u=c/2,y=d.useCallback(b=>{t({x:b.clientX,y:b.clientY+window.scrollY}),s(b.clientX>window.innerWidth-100)},[]),h=d.useCallback(b=>{b.key==="Escape"&&a({showReadingMask:!1})},[a]);if(d.useEffect(()=>{if(e)return window.addEventListener("mousemove",y,{passive:!0}),window.addEventListener("keydown",h),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("keydown",h)}},[e,y,h]),!e||!i)return null;const k={bottom:`calc(100vh - ${n.y-u}px)`},g={top:`${n.y+u}px`},S={top:`${n.y-u}px`,height:`${c}px`},x={top:`${n.y-u+c/2}px`,transform:"translateY(-50%)"};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:E["a11y-button-mask-top"],style:k,children:o.jsx("div",{className:E["a11y-button-mask-hint"],children:r("Press Esc to close")})}),o.jsx("div",{className:E["a11y-button-mask-bottom"],style:g}),o.jsx("div",{className:E["a11y-button-mask-gap"],style:S}),l&&o.jsx("div",{className:E["a11y-button-mask-close-container"],style:x,children:o.jsx("button",{onClick:()=>a({showReadingMask:!1}),className:E["a11y-button-mask-close-button"],"aria-label":r("Close reading mask"),children:o.jsx(X,{size:24})})})]})}const oe={"a11y-button-quick-controls":"QuickControls-module__a11y-button-quick-controls___HlIFO","a11y-button-quick-divider":"QuickControls-module__a11y-button-quick-divider___Me7bb"};function Le({settings:e,onSettingsChange:n,disabled:t}){const{t:i}=$(),a=()=>{e.blackAndWhite?n({blackAndWhite:!1,removeBackgrounds:!1,backgroundColor:"#ffffff",foregroundColor:"#000000"}):n({blackAndWhite:!0,removeBackgrounds:!0,backgroundColor:"#ffffff",foregroundColor:"#000000"})},r={"--a11y-controls-gap":`${e.fontSize*.5}px`,"--a11y-controls-opacity":t?.5:1,"--a11y-controls-events":t?"none":"auto","--a11y-divider-padding":`0 ${e.fontSize*.5}px`,"--a11y-divider-margin":`${e.fontSize*.25}px 0`,"--a11y-divider-gap":`${e.fontSize*.5}px`};return o.jsxs("div",{className:oe["a11y-button-quick-controls"],style:r,children:[o.jsxs(W,{gap:e.fontSize*.25,children:[o.jsx(w,{icon:o.jsx("span",{style:{fontWeight:"bold"},children:"A"}),text:"-",label:i("Decrease font size"),onClick:()=>n({fontSize:Math.max(12,e.fontSize/1.5)}),disabled:e.fontSize<=12,size:e.fontSize}),o.jsx(w,{icon:o.jsx("span",{style:{fontWeight:"bold"},children:"A"}),text:"+",label:i("Increase font size"),onClick:()=>n({fontSize:Math.min(72,e.fontSize*1.5)}),disabled:e.fontSize>=72,size:e.fontSize})]}),o.jsxs("div",{className:oe["a11y-button-quick-divider"],children:[o.jsx(w,{icon:e.showReadingMask?o.jsx(se,{size:e.fontSize*1.2}):o.jsx(q,{size:e.fontSize*1.2}),label:i("{{enableDisable}} reading mask",{enableDisable:e.showReadingMask?i("Disable"):i("Enable")}),onClick:()=>n({showReadingMask:!e.showReadingMask}),size:e.fontSize,active:e.showReadingMask}),o.jsx(w,{icon:o.jsx(ce,{size:e.fontSize*1.2}),label:i("{{enableDisable}} black and white mode",{enableDisable:e.blackAndWhite?i("Disable"):i("Enable")}),onClick:a,size:e.fontSize,active:e.blackAndWhite})]})]})}function Ee(){const[e,n]=d.useState(null);d.useEffect(()=>{if(!e){const s=window.getComputedStyle(document.documentElement),i=window.getComputedStyle(document.body),a=c=>{const u=i.getPropertyValue(c),y=s.getPropertyValue(c),h=u||y;return h&&h!=="normal"?h:void 0},r={fontSize:a("font-size"),backgroundColor:a("background-color"),color:a("color"),letterSpacing:a("letter-spacing"),wordSpacing:a("word-spacing"),lineHeight:a("line-height"),fontFamily:a("font-family"),textTransform:a("text-transform")};Object.keys(r).forEach(c=>{r[c]===void 0&&delete r[c]}),n(r),process.env.NODE_ENV==="development"&&console.log("Original styles captured:",r)}},[e]);const t=s=>{if(!s)return;const i=s.match(/^(-?\d+\.?\d*)/);return i?parseFloat(i[1]):void 0};return{originalStyles:e,getNumericValues:()=>{if(!e)return{};const s={};return e.fontSize&&(s.fontSize=t(e.fontSize)),e.letterSpacing&&(s.letterSpacing=t(e.letterSpacing)),e.wordSpacing&&(s.wordSpacing=t(e.wordSpacing)),e.lineHeight&&(s.lineHeight=t(e.lineHeight)),s}}}function Me(e,n,t){const{originalStyles:l}=Ee();d.useEffect(()=>{const s=document.createElement("style"),i=document.createElement("style");s.setAttribute("data-a11y","toolbar"),i.setAttribute("data-a11y","global"),document.head.appendChild(s),t&&document.head.appendChild(i);const a=`
      :root {
        --a11y-toolbar-font-size: ${e.fontSize}px;
        --a11y-toolbar-background: ${e.backgroundColor};
        --a11y-toolbar-foreground: ${e.foregroundColor};
        --a11y-toolbar-border-color: ${e.foregroundColor};
        --a11y-toolbar-focus-ring: rgba(0, 0, 0, 0.4);
      }
    `,r=t?`
      /* Target all elements except toolbar components */
      *:not([class*="a11y-button-"]) {
        ${e.fontSize?`font-size: ${e.fontSize}px !important;`:""}
        ${e.letterSpacing?`letter-spacing: ${e.letterSpacing}px !important;`:""}
        ${e.wordSpacing?`word-spacing: ${e.wordSpacing}px !important;`:""}
        ${e.lineHeight?`line-height: ${e.lineHeight} !important;`:""}
        ${e.fontOptionLabel!==n.label?`font-family: ${e.fontOptionLabel} !important;`:""}
      }

      /* Background and text colors */
      html, body {
        ${e.backgroundColor?`background-color: ${e.backgroundColor} !important;`:""}
        ${e.foregroundColor?`color: ${e.foregroundColor} !important;`:""}
      }

      /* Handle black and white mode */
      ${e.blackAndWhite?`
        img:not([class*="a11y-button-"]), 
        video:not([class*="a11y-button-"]), 
        canvas:not([class*="a11y-button-"]), 
        svg:not([class*="a11y-button-"]) {
          filter: grayscale(100%) !important;
        }
      `:""}

      /* Handle layout modifications */
      ${e.cancelLayout?`
        *:not([class*="a11y-button-"]) {
          float: none !important;
          position: static !important;
          transform: none !important;
        }
      `:""}

      /* Handle text alignment */
      ${e.leftAlignText?`
        *:not([class*="a11y-button-"]) {
          text-align: left !important;
        }
      `:""}

      /* Handle list styling */
      ${e.numberListItems?`
        ul:not([class*="a11y-button-"]) {
          list-style-type: decimal !important;
        }
      `:""}

      /* Handle link styling */
      ${e.customLinks?`
        a:not([class*="a11y-button-"]) {
          text-decoration: underline !important;
          color: ${e.blackAndWhite?e.foregroundColor:"blue"} !important;
        }
        a:visited:not([class*="a11y-button-"]) {
          color: ${e.blackAndWhite?e.foregroundColor:"purple"} !important;
        }
        a:hover:not([class*="a11y-button-"]) {
          color: ${e.blackAndWhite?e.foregroundColor:"red"} !important;
        }
      `:""}

      /* Handle text case */
      ${e.textCase!=="none"?`
        *:not([class*="a11y-button-"]) {
          text-transform: ${e.textCase} !important;
        }
      `:""}
    `:"";return s.textContent=a,t&&(i.textContent=r),()=>{document.head.removeChild(s),document.head.contains(i)&&document.head.removeChild(i)}},[t,e,n.label,l])}const te={"a11y-button-toggle":"Toggle-module__a11y-button-toggle___fd-fC","a11y-button-toggle-knob":"Toggle-module__a11y-button-toggle-knob___XwcpR"};function Pe({checked:e,onChange:n,size:t=24}){const{visibleSettings:l}=$(),{removeBackgrounds:s,blackAndWhite:i,backgroundColor:a,foregroundColor:r}=l,c=t*2,u=t,y=u-4,h=s||i,k={"--a11y-toggle-width":`${c}px`,"--a11y-toggle-height":`${u}px`,"--a11y-toggle-knob-size":`${y}px`,"--a11y-toggle-border":h?`2px solid ${r}`:"none","--a11y-toggle-knob-bg":a,"--a11y-toggle-knob-shadow":h?`0 0 0 2px ${r}`:"0 2px 4px rgba(0,0,0,0.2)"};return o.jsx("button",{className:te["a11y-button-toggle"],role:"switch","aria-checked":e,onClick:()=>n(!e),style:k,children:o.jsx("span",{className:te["a11y-button-toggle-knob"]})})}const I={"a11y-button-profile":"ProfileSelector-module__a11y-button-profile___1ynJp","a11y-button-profile-label":"ProfileSelector-module__a11y-button-profile-label___URqgl","a11y-button-profile-select":"ProfileSelector-module__a11y-button-profile-select___hm0je"};function Oe({currentProfile:e,onChange:n,disabled:t,fontSize:l}){const{t:s}=$(),i=r=>{const c=Q[r];n(r,c)},a={"--a11y-profile-gap":"0.75rem","--a11y-profile-padding":"0 1rem","--a11y-label-font-size":`${l}px`,"--a11y-select-padding":`${l*.25}px ${l*.5}px`,"--a11y-select-font-size":`${l}px`,"--a11y-select-height":`${l*2}px`};return o.jsxs("div",{className:I["a11y-button-profile"],style:a,children:[o.jsx("span",{className:I["a11y-button-profile-label"],children:s("Profile")}),o.jsxs("select",{value:e,onChange:r=>i(r.target.value),disabled:t,className:I["a11y-button-profile-select"],children:[o.jsx("option",{value:"none",children:s("Custom")}),o.jsx("option",{value:"clear-reading",children:s("Clear Reading")}),o.jsx("option",{value:"easy-reading",children:s("Easy Reading")})]})]})}const ae={"a11y-button-trigger":"AccessibilityButton-module__a11y-button-trigger___XeFtg","a11y-button-icon":"AccessibilityButton-module__a11y-button-icon___S-3ao"},Te={settings:j,eye:q,accessibility:ue,palette:de,type:he,layout:re},O="1.5rem";function De({isOpen:e,onClick:n,fontSize:t,position:l="absolute",top:s,right:i,bottom:a=O,left:r,borderRadius:c="50%",iconHandle:u="accessibility",children:y,hideWhenOpen:h=!1}){const k=Te[u]||j,{t:g}=$();if((h||l==="absolute")&&e)return null;const S={"--a11y-button-position":l,"--a11y-button-top":s||(l==="absolute"?O:void 0),"--a11y-button-right":i||(!r&&l==="fixed"?O:void 0),"--a11y-button-bottom":a||(l==="fixed"?O:void 0),"--a11y-button-left":r||(l==="absolute"?O:void 0),"--a11y-button-size":`${t*3}px`,"--a11y-button-padding":`${t*.75}px`,"--a11y-button-radius":c,"--a11y-button-bg":"#ffffff","--a11y-button-color":"#000000","--a11y-button-border-color":"#000000","--a11y-button-hover-bg":"#000000","--a11y-button-hover-color":"#ffffff","--a11y-button-focus-ring-color":"rgba(0, 0, 0, 0.4)","--a11y-button-icon-size":`${t*1.5}px`};return o.jsx("button",{className:ae["a11y-button-trigger"],style:S,onClick:n,"aria-label":g("{{hideShow}} Accessibility Settings",{hideShow:g(e?"Hide":"Show")}),children:y||o.jsx(k,{className:ae["a11y-button-icon"]})})}const M={"a11y-button-toolbar":"AccessibilityToolbar-module__a11y-button-toolbar___Z5qrw","a11y-button-toolbar-header":"AccessibilityToolbar-module__a11y-button-toolbar-header___-esW-","a11y-button-toolbar-main":"AccessibilityToolbar-module__a11y-button-toolbar-main___VGXsy","a11y-button-toolbar-title":"AccessibilityToolbar-module__a11y-button-toolbar-title___jpQy6","a11y-button-toolbar-controls":"AccessibilityToolbar-module__a11y-button-toolbar-controls___cSaiR","a11y-button-toolbar-advanced":"AccessibilityToolbar-module__a11y-button-toolbar-advanced___1g4yG"};function Fe({props:e,portalContainer:n}){const[t,l]=d.useState(!1),[s,i]=d.useState(!1),{visibleSettings:a,language:r,isEnabled:c,hasChanges:u,updateSettings:y,setEnabled:h,resetSettings:k,setProfile:g,commitChanges:S,rollbackChanges:x,t:b,fontOptions:N}=$();Me(a,N[0],c);const z=()=>{u&&(window.confirm(b("You have unsaved changes. Would you like to save them before closing?"))?S():x()),l(!1)},P=()=>{S(),l(!1)},L={"--a11y-toolbar-gap":`${a.fontSize}px`,"--a11y-toolbar-padding":`${a.fontSize*.75}px`,"--a11y-toolbar-title-size":`${a.fontSize*1.25}px`,"--a11y-toolbar-controls-gap":`${a.fontSize*.75}px`,"--a11y-toolbar-controls-margin":`${a.fontSize*.25}px 0`,"--a11y-toolbar-advanced-padding":`${a.fontSize}px`},f=t&&n?o.jsxs("div",{className:M["a11y-button-toolbar"],style:L,children:[o.jsxs("div",{className:M["a11y-button-toolbar-header"],children:[o.jsxs("div",{className:M["a11y-button-toolbar-main"],children:[o.jsx("h2",{className:M["a11y-button-toolbar-title"],children:b("Accessibility")}),o.jsx(Pe,{checked:c,onChange:h,size:a.fontSize*1.5}),c&&o.jsxs(o.Fragment,{children:[o.jsx(Oe,{currentProfile:a.currentProfile,onChange:g,disabled:!1,fontSize:a.fontSize}),o.jsx(Le,{settings:a,onSettingsChange:y,disabled:s})]})]}),o.jsxs("div",{className:M["a11y-button-toolbar-controls"],children:[c&&u&&o.jsxs(o.Fragment,{children:[o.jsx(T,{variant:"primary",icon:o.jsx(be,{size:a.fontSize}),onClick:P,fontSize:a.fontSize,children:b("Save Changes")}),o.jsx(T,{variant:"ghost",icon:o.jsx(Y,{size:a.fontSize}),onClick:x,fontSize:a.fontSize,children:b("Revert")})]}),c&&o.jsx(T,{variant:"secondary",icon:o.jsx(ye,{size:a.fontSize}),onClick:()=>i(!s),fontSize:a.fontSize,children:b(s?"Less Options":"More Options")}),o.jsx("select",{value:r,onChange:p=>y({language:p.target.value}),style:{padding:`${a.fontSize*.25}px ${a.fontSize*.5}px`,fontSize:`${a.fontSize}px`,height:`${a.fontSize*2}px`,borderRadius:"4px",border:"2px solid currentColor"},"aria-label":b("language"),children:Object.entries(pe).map(([p,Be])=>o.jsx("option",{value:p,children:Be},p))}),o.jsx(w,{icon:o.jsx(X,{size:a.fontSize}),label:"Close",onClick:z,variant:"danger",size:a.fontSize*1.2})]})]}),s&&c&&o.jsx("div",{className:M["a11y-button-toolbar-advanced"],children:o.jsx(Ae,{settings:a,updateSettings:y,resetSettings:k})})]}):null;return o.jsxs(o.Fragment,{children:[e.children?o.jsx("div",{onClick:()=>l(!t),children:e.children}):o.jsx(De,{isOpen:t,onClick:()=>l(!t),fontSize:a.fontSize,position:e.position,top:e.top,right:e.right,bottom:e.bottom,left:e.left,borderRadius:e.borderRadius,iconHandle:e.iconHandle,hideWhenOpen:e.hideButtonWhenOpen}),n&&V.createPortal(f,n),n&&V.createPortal(o.jsx(Ne,{isEnabled:c&&a.showReadingMask}),n)]})}function We(e){const[n,t]=d.useState(null);return d.useEffect(()=>{const l=document.createElement("div");return l.id="accessibility-toolbar-root",l.style.position="static",l.style.width="100%",document.body.firstChild?document.body.insertBefore(l,document.body.firstChild):document.body.appendChild(l),t(l),()=>{document.body.contains(l)&&document.body.removeChild(l)}},[]),o.jsx(Fe,{props:e,portalContainer:n})}C.AccessibilityProvider=ke,C.AccessibilityToolbar=We,Object.defineProperty(C,Symbol.toStringTag,{value:"Module"})});
